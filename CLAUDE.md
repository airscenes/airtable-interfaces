# CLAUDE.md

## Project

This repo contains **custom Airtable Interface Extensions**. Each subfolder is an independent extension with its own `block.json`, `package.json` and source code in `frontend/`.

## Tech Stack

- **SDK**: `@airtable/blocks/interface/ui` and `@airtable/blocks/interface/models` (NOT `@airtable/blocks/ui`)
- **CLI**: `@airtable/blocks-cli` (installed globally)
- **Bundler**: managed by the SDK, entrypoint = `frontend/index.js`
- **Styling**: Tailwind CSS (included via `style.css`), dark mode support with `dark:` prefixes
- **Libraries**: recharts for charts, @phosphor-icons/react for icons
- **React**: v19, explicit `import React from 'react'` required

## Conventions

- **All documentation (README, CLAUDE.md) and code comments must be in English.** UI-facing strings (labels, error messages shown to end users) may remain in the target language (e.g. French).
- No TypeScript: extensions use `.js`
- `initializeBlock({interface: () => <Component />})` for the entrypoint
- Use `useCustomProperties` for configurable fields (never hardcode field names)
- Use `useRecords(table)` to read data
- Always check `field !== null` before `record.getCellValue(field)`
- `FieldType` imported from `@airtable/blocks/interface/models`
- No Airtable UI components (`Box`, `Button`, etc.): use HTML + Tailwind
- `--legacy-peer-deps` when installing npm packages (React 19 compat)

## Commands

```bash
# Local development (from the extension folder)
cd <extension>/
block run

# Publish an extension
cd <extension>/
block release

# Install a dependency
cd <extension>/
npm install <package> --legacy-peer-deps
```

## Extension Structure

```
<extension-name>/
  .block/remote.json    # blockId + baseId (generated by Airtable)
  block.json            # bundler config, entrypoint
  frontend/
    index.js            # main source code
    style.css           # Tailwind imports
  tailwind.config.js    # Airtable design tokens mapped
  package.json
```
